# Environment Variables Template for Notification System

# Copy this to your .env.local and fill in the values

# ==============================================
# REQUIRED: Notification System Configuration
# ==============================================

# Security key for cron job calls
# Generate a strong random string:
# Linux/Mac: openssl rand -hex 32
# Windows: [Convert]::ToBase64String([System.Security.Cryptography.RNGCryptoServiceProvider]::new().GetBytes(32))
CRON_KEY=your_super_secret_random_string_here_32_chars_minimum

# ==============================================
# EXISTING: MongoDB Configuration (Should Already Be Set)
# ==============================================

# MongoDB connection URI
MONGODB_URI=mongodb://localhost:27017/chioma_hair

# Alternative: MongoDB Atlas
# MONGODB_URI=mongodb+srv://username:password@cluster0.mongodb.net/chioma_hair?retryWrites=true&w=majority

# ==============================================
# EXISTING: Authentication (Should Already Be Set)
# ==============================================

# NextAuth or your auth provider settings
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your_auth_secret_here

# ==============================================
# OPTIONAL: Email Notifications (Future Enhancement)
# ==============================================

# SMTP Email Configuration (for email notifications)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=notifications@chiomahair.com

# ==============================================
# OPTIONAL: Slack Integration (Future Enhancement)
# ==============================================

# Slack webhook for notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==============================================
# OPTIONAL: SMS Notifications (Future Enhancement)
# ==============================================

# Twilio for SMS alerts
# TWILIO_ACCOUNT_SID=your_account_sid
# TWILIO_AUTH_TOKEN=your_auth_token
# TWILIO_PHONE_NUMBER=+1234567890

# ==============================================
# DEVELOPMENT ONLY (Remove in Production)
# ==============================================

# Enable debug logging
DEBUG=true

# API endpoint for notifications (usually auto-detected)
# NEXT_PUBLIC_API_URL=http://localhost:3000

# ==============================================
# NOTES
# ==============================================

# 1. CRON_KEY:
#    - Must be at least 32 characters long
#    - Use a strong random string, NOT your password
#    - Keep this secret - don't commit to git
#    - Used by /api/cron/check-notifications endpoint
#
# 2. MONGODB_URI:
#    - Should already be configured
#    - Used for storing notifications
#    - Examples:
#      Local: mongodb://localhost:27017/chioma_hair
#      Atlas: mongodb+srv://user:pass@cluster.mongodb.net/chioma_hair
#
# 3. File Location:
#    - Linux/Mac: .env.local or .env
#    - Windows: .env.local or .env
#    - Never commit to git repository
#
# 4. Loading Priority (Next.js):
#    1. .env.local (highest priority)
#    2. .env.{NODE_ENV}.local
#    3. .env.{NODE_ENV}
#    4. .env (lowest priority)
#
# 5. Restart required:
#    - Must restart dev server (npm run dev) after changing .env
#    - Changes are cached at startup
#
# ==============================================
# TESTING
# ==============================================

# After setting up, test with:
# 1. Check bell icon appears in navbar
# 2. Go to /manage/notifications
# 3. Create a test notification
# 4. Verify it appears in dropdown

# ==============================================
# PRODUCTION DEPLOYMENT
# ==============================================

# For Vercel:
# 1. Go to Vercel project settings
# 2. Go to Environment Variables
# 3. Add CRON_KEY (use strong random value)
# 4. Leave MONGODB_URI as-is or update if needed
# 5. Deploy
#
# For Other Hosting:
# 1. Use hosting provider's env variable setup
# 2. Add CRON_KEY with strong random value
# 3. Ensure MONGODB_URI points to production database
# 4. Deploy
#
# WARNING: Never use development CRON_KEY in production!

# ==============================================
# GENERATE SECURE CRON_KEY
# ==============================================

# Linux/Mac:
#   openssl rand -hex 32
#
# Windows PowerShell:
#   [Convert]::ToBase64String([System.Security.Cryptography.RNGCryptoServiceProvider]::new().GetBytes(32))
#
# JavaScript/Node:
#   require('crypto').randomBytes(32).toString('hex')
#
# Python:
#   import secrets
#   secrets.token_hex(32)

# ==============================================
# TROUBLESHOOTING
# ==============================================

# Issue: "CRON_KEY not valid" error
# Fix: Ensure CRON_KEY is set and matches in request header/query
#
# Issue: Notifications not appearing
# Fix: Check MONGODB_URI is correct and database is running
#
# Issue: Cron job not running
# Fix: Check CRON_KEY is in production environment variables
#
# Issue: Environment variables not loading
# Fix: Restart dev server (npm run dev), don't just refresh browser

# ==============================================
